# ==========================
# 1. 基础设置 (General)
# ==========================
set -g default-terminal "xterm-256color"
set -g mouse on

# 窗口和面板索引从 1 开始
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set -g renumber-windows on

# 前缀键: Ctrl + Space
unbind C-b
set -g prefix C-Space

# ==========================
# 2. 插件列表 (Plugins)
# ==========================
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'tmux-plugins/tmux-yank'

# --- 会话持久化 (Session Management) ---
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# ==========================
# 3. 插件配置 (Plugin Config)
# ==========================
# 自动恢复上次的会话 (Auto Restore)
set -g @continuum-restore 'on'

# 恢复 Neovim 的 Session (可选)
set -g @resurrect-strategy-nvim 'session'

# ==========================
# 4. 主题设置 (Theme: Dracula)
# ==========================
set -g @plugin 'dracula/tmux'
set -g @dracula-show-powerline true
set -g @dracula-show-left-icon session
set -g @dracula-plugins "cpu-usage ram-usage cwd time"
set -g @dracula-show-location false

# ==========================
# 5. 按键映射 (Keybinds)
# ==========================
set-window-option -g mode-keys vi
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# ==========================
# 6. 初始化 (Init)
# ==========================
run '~/.tmux/plugins/tpm/tpm'
